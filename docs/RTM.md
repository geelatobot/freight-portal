# 货代客户门户 - 需求跟踪矩阵 (RTM)

## 文档信息
- **项目**: 货代客户门户
- **版本**: v1.0
- **创建日期**: 2026-02-16
- **状态**: 进行中

---

## 需求分类与状态

### P0 - 核心功能（必须完成）

| ID | 需求描述 | 优先级 | 设计状态 | 开发状态 | 测试状态 | 验收状态 | 负责人 | 备注 |
|----|---------|--------|---------|---------|---------|---------|--------|------|
| P0-001 | 用户注册/登录 | P0 | ✅ | ✅ | ✅ | ⏳ | AI | 测试完成 |
| P0-002 | 货物查询（4portun） | P0 | ✅ | ✅ | ✅ | ⏳ | AI | 测试完成 |
| P0-003 | 订单管理 | P0 | ✅ | ✅ | ✅ | ⏳ | AI | 测试完成 |
| P0-004 | 数据库设计 | P0 | ✅ | ✅ | ✅ | ✅ | AI | 完成 |
| P0-005 | API文档 | P0 | ✅ | ✅ | ✅ | ✅ | AI | 完成 |
| P0-006 | CI/CD流水线 | P0 | ✅ | ✅ | ✅ | ⏳ | AI | GitHub Actions |

### P1 - 重要功能（应该完成）

| ID | 需求描述 | 优先级 | 设计状态 | 开发状态 | 测试状态 | 验收状态 | 负责人 | 备注 |
|----|---------|--------|---------|---------|---------|---------|--------|------|
| P1-001 | 财务中心（账单） | P1 | ✅ | ✅ | ⏳ | ⏳ | AI | 基础功能完成 |
| P1-002 | 管理后台 | P1 | ✅ | ✅ | ⏳ | ⏳ | AI | Dashboard完成 |
| P1-003 | 微信小程序 | P1 | ✅ | ⏳ | ⏳ | ⏳ | AI | 框架完成 |
| P1-004 | 部署脚本 | P1 | ✅ | ✅ | ⏳ | ⏳ | AI | 自动化完成 |

### P2 - 增值功能（可以完成）

| ID | 需求描述 | 优先级 | 设计状态 | 开发状态 | 测试状态 | 验收状态 | 负责人 | 备注 |
|----|---------|--------|---------|---------|---------|---------|--------|------|
| P2-001 | Kimi AI智能客服 | P2 | ✅ | ✅ | ⏳ | ⏳ | AI | 基础对接完成 |
| P2-002 | OCR识别 | P2 | ⏳ | ⏳ | ⏳ | ⏳ | AI | 待开发 |
| P2-003 | 数据报表 | P2 | ⏳ | ⏳ | ⏳ | ⏳ | AI | 暂不开发 |

---

## 测试覆盖率矩阵

| 模块 | 单元测试 | 集成测试 | E2E测试 | 覆盖率 | 状态 |
|------|---------|---------|---------|--------|------|
| Auth | ⏳ | ⏳ | ⏳ | 0% | 待测试 |
| Customer | ⏳ | ⏳ | ⏳ | 0% | 待测试 |
| Order | ⏳ | ⏳ | ⏳ | 0% | 待测试 |
| Shipment | ⏳ | ⏳ | ⏳ | 0% | 待测试 |
| Billing | ⏳ | ⏳ | ⏳ | 0% | 待测试 |
| AI | ⏳ | ⏳ | ⏳ | 0% | 待测试 |

---

## 风险跟踪

| ID | 风险描述 | 可能性 | 影响 | 缓解措施 | 状态 |
|----|---------|--------|------|---------|------|
| R1 | 4portun API不稳定 | 中 | 高 | 实现缓存+重试 | 监控 |
| R2 | 数据库性能瓶颈 | 低 | 中 | 索引优化+连接池 | 监控 |
| R3 | 敏感信息泄露 | 已发生 | 高 | 重建仓库+改密钥 | 已缓解 |

---

## 变更记录

| 日期 | 版本 | 变更内容 | 变更人 |
|------|------|---------|--------|
| 2026-02-16 | v1.0 | 初始创建 | AI |
| 2026-02-16 | v1.1 | 添加测试框架、CI/CD、代码审查清单 | AI |

---

## 验收标准

- [ ] 所有P0需求完成并通过测试
- [ ] 代码覆盖率 > 80%
- [ ] 性能测试通过（API响应<500ms）
- [ ] 安全审计通过（无敏感信息泄露）
- [ ] 文档完整（API文档、部署文档、测试文档）
