# 货代客户门户 - 需求规格说明书

## 1. 项目背景
为货代公司客户提供一个统一的在线服务平台，替代传统的电话/邮件查询方式，提升客户服务效率和体验。

## 2. 用户角色

### 2.1 客户侧
| 角色 | 权限 | 描述 |
|------|------|------|
| 企业管理员 | 全权限 | 管理企业下所有子账号、查看所有数据 |
| 业务操作员 | 业务权限 | 下单、查询货物、管理委托 |
| 财务人员 | 财务权限 | 查看账单、发票、进行对账 |
| 只读用户 | 查看权限 | 仅查看货物状态，不可操作 |

### 2.2 平台侧
| 角色 | 职责 |
|------|------|
| 系统管理员 | 平台配置、用户管理 |
| 客服人员 | 处理客户咨询、异常处理 |
| 运营人员 | 数据报表、业务分析 |

## 3. 功能需求

### 3.1 用户认证模块
- [ ] 企业客户注册（需审核）
- [ ] 多因子认证(MFA)
- [ ] 子账号邀请/管理
- [ ] 登录日志审计
- [ ] 密码策略管理

### 3.2 货物追踪模块
- [ ] 集装箱号/提单号查询
- [ ] 货物状态时间轴展示
- [ ] 地图可视化（船舶位置、车辆位置）
- [ ] 订阅状态变更通知
- [ ] 异常状态预警（延误、滞留等）

### 3.3 内部系统对接
- [ ] 现货库存API查询
- [ ] 运价实时查询
- [ ] 船期/航班查询
- [ ] 仓库库存状态
- [ ] 数据缓存策略

### 3.4 第三方同步模块
- [ ] 船公司API对接（优先级：COSCO、MSK、MSC、ONE）
- [ ] 港口数据对接
- [ ] 海关状态查询（中国海关、目的港海关）
- [ ] 同步任务调度
- [ ] 失败重试机制

### 3.5 订单管理模块
- [ ] 在线下单（海运整箱/拼箱、空运、陆运）
- [ ] 委托单模板管理
- [ ] 订单草稿保存
- [ ] 订单状态流转
- [ ] 电子签名确认

### 3.6 财务中心
- [ ] 发票列表与下载（PDF）
- [ ] 账单明细查询
- [ ] 在线支付（支付宝、微信、银联）
- [ ] 对账单生成与确认
- [ ] 费用预估计算器

### 3.7 AI 能力模块
- [ ] 智能客服机器人（货物状态问答）
- [ ] OCR文档识别（提单、装箱单、发票）
- [ ] 到港时间预测
- [ ] 异常预警智能分析
- [ ] 最优航线推荐

## 4. 非功能需求

### 4.1 性能
- 页面加载 < 2秒
- API响应 < 500ms
- 支持 1000+ 并发用户

### 4.2 安全
- 数据加密传输(HTTPS/TLS 1.3)
- 敏感数据加密存储
- API访问限流
- 完整操作审计日志

### 4.3 可用性
- 系统可用性 99.9%
- 数据备份策略
- 灾难恢复方案

## 5. 待确认事项
- [ ] 内部系统API接口文档
- [ ] 第三方平台API授权方式
- [ ] 客户现有数据量评估
- [ ] 预算范围
- [ ] 上线时间规划
